hoDROP DATABASE IF EXISTS HotelSchema;

CREATE DATABASE IF NOT EXISTS HotelSchema;

USE HotelSchema;

CREATE TABLE `GuestTable` (
    `GuestID` INT PRIMARY KEY AUTO_INCREMENT,
    `FirstName` VARCHAR(25) NOT NULL,
    `LastName` VARCHAR(25) NOT NULL,
    `Address` VARCHAR(50) NOT NULL,
    `City` VARCHAR(25) NOT NULL,
    `State` CHAR(2) NOT NULL,
    `Zip` CHAR(5) NOT NULL,
    `Phone` CHAR(10) NOT NULL
);

CREATE TABLE `AmenitiesTable` (
    `AmenitiesID` INT PRIMARY KEY AUTO_INCREMENT,
    `Amenities` VARCHAR(50) NOT NULL
);

CREATE TABLE `RoomTable` (
    `RoomNumber` INT PRIMARY KEY,
    `Type` VARCHAR(25) NOT NULL,
    `ADA` BOOLEAN NOT NULL,
    `StandardOccupency` INT NOT NULL,
    `MaxOccupency` INT NOT NULL,
    `BasePrice` FLOAT NOT NULL,
    `ExtraPerson` FLOAT NULL
);

CREATE TABLE `RoomAmenitiesTable` (
    `RoomNumber` INT,
    `AmenitiesID` INT,
    FOREIGN KEY (`RoomNumber`)
        REFERENCES `RoomTable` (`RoomNumber`),
    FOREIGN KEY (`AmenitiesID`)
        REFERENCES `AmenitiesTable` (`AmenitiesID`)
);

CREATE TABLE `ReservationTable` (
    `ReservationID` INT PRIMARY KEY AUTO_INCREMENT,
    `RoomNumber` INT,
    `GuestID` INT,
    `Adults` INT NOT NULL,
    `Children` INT NULL,
    `StartDate` DATE NOT NULL,
    `EndDate` DATE NOT NULL,
    `Cost` FLOAT NOT NULL,
    FOREIGN KEY (`GuestID`)
        REFERENCES `GuestTable` (`GuestID`),
    FOREIGN KEY (`RoomNumber`)
        REFERENCES `RoomAmenitiesTable` (`RoomNumber`)
);
